<!DOCTYPE html>
<html><head><meta charset="UTF-8"><link href="css/default.css" rel="stylesheet" type="text/css"><script src="js/jquery.min.js" type="text/javascript"></script><script src="js/page_effects.js" type="text/javascript"></script><title>wparker.units.core documentation</title></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html">Units 0.0.1-SNAPSHOT API documentation</a></h1></div><div class="sidebar" id="namespaces"><h3><a href="index.html"><span class="inner">Namespaces</span></a></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>wparker</span></div></div></li><li class="depth-2"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>units</span></div></div></li><li class="depth-3 current"><a href="wparker.units.core.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>core</span></div></a></li></ul></div><div class="sidebar" id="vars"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="wparker.units.core.html#var-*check-units*"><div class="inner"><span>*check-units*</span></div></a></li><li class="depth-1"><a href="wparker.units.core.html#var-*compile-with-unit-checks*"><div class="inner"><span>*compile-with-unit-checks*</span></div></a></li><li class="depth-1"><a href="wparker.units.core.html#var-*unit-power-error*"><div class="inner"><span>*unit-power-error*</span></div></a></li><li class="depth-1"><a href="wparker.units.core.html#var--.3Echecked-copy-fn"><div class="inner"><span>-&gt;checked-copy-fn</span></div></a></li><li class="depth-1"><a href="wparker.units.core.html#var--.3Equantities-equal-fn"><div class="inner"><span>-&gt;quantities-equal-fn</span></div></a></li><li class="depth-1"><a href="wparker.units.core.html#var--.3Equantity"><div class="inner"><span>-&gt;quantity</span></div></a></li><li class="depth-1"><a href="wparker.units.core.html#var--.3Equantity*"><div class="inner"><span>-&gt;quantity*</span></div></a></li><li class="depth-1"><a href="wparker.units.core.html#var--.3Equantity-comparison-fn"><div class="inner"><span>-&gt;quantity-comparison-fn</span></div></a></li><li class="depth-1"><a href="wparker.units.core.html#var--.3Equantity-operation-fn"><div class="inner"><span>-&gt;quantity-operation-fn</span></div></a></li><li class="depth-1"><a href="wparker.units.core.html#var-CloneableNumber"><div class="inner"><span>CloneableNumber</span></div></a></li><li class="depth-2"><a href="wparker.units.core.html#var-clone-number"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>clone-number</span></div></a></li><li class="depth-1"><a href="wparker.units.core.html#var-def-quantities-macro"><div class="inner"><span>def-quantities-macro</span></div></a></li><li class="depth-1"><a href="wparker.units.core.html#var-quantities-add"><div class="inner"><span>quantities-add</span></div></a></li><li class="depth-1"><a href="wparker.units.core.html#var-quantities-add*"><div class="inner"><span>quantities-add*</span></div></a></li><li class="depth-1"><a href="wparker.units.core.html#var-quantities-divide"><div class="inner"><span>quantities-divide</span></div></a></li><li class="depth-1"><a href="wparker.units.core.html#var-quantities-divide*"><div class="inner"><span>quantities-divide*</span></div></a></li><li class="depth-1"><a href="wparker.units.core.html#var-quantities-equal.3F"><div class="inner"><span>quantities-equal?</span></div></a></li><li class="depth-1"><a href="wparker.units.core.html#var-quantities-equal.3F*"><div class="inner"><span>quantities-equal?*</span></div></a></li><li class="depth-1"><a href="wparker.units.core.html#var-quantities-greater-than.3F"><div class="inner"><span>quantities-greater-than?</span></div></a></li><li class="depth-1"><a href="wparker.units.core.html#var-quantities-greater-than.3F*"><div class="inner"><span>quantities-greater-than?*</span></div></a></li><li class="depth-1"><a href="wparker.units.core.html#var-quantities-less-than.3F"><div class="inner"><span>quantities-less-than?</span></div></a></li><li class="depth-1"><a href="wparker.units.core.html#var-quantities-less-than.3F*"><div class="inner"><span>quantities-less-than?*</span></div></a></li><li class="depth-1"><a href="wparker.units.core.html#var-quantities-multiply"><div class="inner"><span>quantities-multiply</span></div></a></li><li class="depth-1"><a href="wparker.units.core.html#var-quantities-multiply*"><div class="inner"><span>quantities-multiply*</span></div></a></li><li class="depth-1"><a href="wparker.units.core.html#var-quantities-subtract"><div class="inner"><span>quantities-subtract</span></div></a></li><li class="depth-1"><a href="wparker.units.core.html#var-quantities-subtract*"><div class="inner"><span>quantities-subtract*</span></div></a></li><li class="depth-1"><a href="wparker.units.core.html#var-quantity-.3Estr"><div class="inner"><span>quantity-&gt;str</span></div></a></li><li class="depth-1"><a href="wparker.units.core.html#var-quantity-.3Eunits"><div class="inner"><span>quantity-&gt;units</span></div></a></li><li class="depth-1"><a href="wparker.units.core.html#var-quantity.3F"><div class="inner"><span>quantity?</span></div></a></li><li class="depth-1"><a href="wparker.units.core.html#var-units-equal.3F"><div class="inner"><span>units-equal?</span></div></a></li><li class="depth-1"><a href="wparker.units.core.html#var-without-unit-checks"><div class="inner"><span>without-unit-checks</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h2 class="anchor" id="top">wparker.units.core</h2><div class="doc"><pre class="plaintext"></pre></div><div class="public anchor" id="var-*check-units*"><h3>*check-units*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><pre class="plaintext">When bound to a false unit checking is disabled at runtime,
even if enabled at compile time.  Note that this also disables quantity creation.</pre></div></div><div class="public anchor" id="var-*compile-with-unit-checks*"><h3>*compile-with-unit-checks*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><pre class="plaintext">Dynamic var that, when bound to true, causes quantity macro expansions to expand to
the unit-checked case.  This can be set to true with a Leiningen injection in any dev/testing profiles
in projects using unit checking to ensure that units are always checked in tests.</pre></div></div><div class="public anchor" id="var-*unit-power-error*"><h3>*unit-power-error*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div></div><div class="public anchor" id="var--.3Echecked-copy-fn"><h3>-&gt;checked-copy-fn</h3><div class="usage"><code>(-&gt;checked-copy-fn f)</code></div><div class="doc"><pre class="plaintext">Takes a function that copies a number in accordance with the
clone-number contract and wraps it with a test that the number was
successfully copied.</pre></div></div><div class="public anchor" id="var--.3Equantities-equal-fn"><h3>-&gt;quantities-equal-fn</h3><div class="usage"><code>(-&gt;quantities-equal-fn math-fn operation-description)</code></div><div class="doc"><pre class="plaintext">Returns a function that operates on two quantities with the same units and returns a new quantity with the same units.  If the two quantities
have different units an exception is thrown.</pre></div></div><div class="public anchor" id="var--.3Equantity"><h3>-&gt;quantity</h3><h4 class="type">macro</h4><div class="usage"><code>(-&gt;quantity q u)</code></div><div class="doc"><pre class="plaintext">Macro that expands to create a quantity from the given numeric magnitude and unit map if *compile-with-unit-checks* is true
and simply expands to the magnitude otherwise.</pre></div></div><div class="public anchor" id="var--.3Equantity*"><h3>-&gt;quantity*</h3><div class="usage"><code>(-&gt;quantity* magnitude units)</code></div><div class="doc"><pre class="plaintext">Given a number, returns a new number instance that is associated with the given units.
</pre></div></div><div class="public anchor" id="var--.3Equantity-comparison-fn"><h3>-&gt;quantity-comparison-fn</h3><div class="usage"><code>(-&gt;quantity-comparison-fn compare-fn fn-desc)</code></div><div class="doc"><pre class="plaintext">Returns a function that compares two quantities that must have equal units.  This function will returns a boolean.
Takes a function to compare two numbers.</pre></div></div><div class="public anchor" id="var--.3Equantity-operation-fn"><h3>-&gt;quantity-operation-fn</h3><div class="usage"><code>(-&gt;quantity-operation-fn math-fn unit-fn)</code></div><div class="doc"><pre class="plaintext">Returns a function that takes an arbitrary number of quantities and returns a new quantity, with a magnitude determined by math-fn
and powers determined by unit-fn.  For example, in the case of multiplication,
the math-fn is * and the unit-fn is +, since the units of multiplied quantities are added when multiplied.  The first argument
to the unit-fn is a power of a unit in the first quantity and the second argument is the power of the same unit in the second quantity.
The unit-fn can assume that it will receive numeric arguments; if a unit is not present in a quantity its&apos; power is 0.  If the underlying
unit operation is not commutative the creator may need to wrap the underlying function to ensure that arguments are received in the correct
order and number to ensure correct unit propagation.</pre></div></div><div class="public anchor" id="var-CloneableNumber"><h3>CloneableNumber</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><pre class="plaintext"></pre></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-clone-number"><h3>clone-number</h3><div class="usage"><code>(clone-number x)</code></div><div class="doc"><pre class="plaintext"></pre></div></div></div></div></div><div class="public anchor" id="var-def-quantities-macro"><h3>def-quantities-macro</h3><h4 class="type">macro</h4><div class="usage"><code>(def-quantities-macro macro-name macro-doc checked-fn unchecked-fn)</code></div><div class="doc"><pre class="plaintext">Defines a macro that inserts a quantity-checking function if *compile-with-unit-checks* is true and a plain math function otherwise.  Takes four arguments:
1. The name of the macro to define.
2. The docstring for the macro macro to define.
3. The fully-qualified checked function.
4. The fully-qualified equivalent unchecked function.</pre></div></div><div class="public anchor" id="var-quantities-add"><h3>quantities-add</h3><h4 class="type">macro</h4><div class="usage"><code>(quantities-add &amp; qs__454__auto__)</code></div><div class="doc"><pre class="plaintext">Macro that expands to add quantities if the global flag *compile-with-unit-checks* is true and expands to simple addition otherwise.
</pre></div></div><div class="public anchor" id="var-quantities-add*"><h3>quantities-add*</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Function that adds quantities.  It must be provided at least 1 argument.
Unlike clojure.core/+, this will throw an exception if no arguments are provided.</pre></div></div><div class="public anchor" id="var-quantities-divide"><h3>quantities-divide</h3><h4 class="type">macro</h4><div class="usage"><code>(quantities-divide &amp; qs__454__auto__)</code></div><div class="doc"><pre class="plaintext">Macro that expands to divide quantities if the global flag *compile-with-unit-checks* is true and expands to simple division otherwise.
</pre></div></div><div class="public anchor" id="var-quantities-divide*"><h3>quantities-divide*</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Function that divides two quantities.
</pre></div></div><div class="public anchor" id="var-quantities-equal.3F"><h3>quantities-equal?</h3><h4 class="type">macro</h4><div class="usage"><code>(quantities-equal? &amp; qs__454__auto__)</code></div><div class="doc"><pre class="plaintext">Macro that expands to check quantity equality if the global flag *compile-with-unit-checks* is true and expands to a simple equality check otherwise.
</pre></div></div><div class="public anchor" id="var-quantities-equal.3F*"><h3>quantities-equal?*</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Tests if an arbitrary number of quantities are equal.
</pre></div></div><div class="public anchor" id="var-quantities-greater-than.3F"><h3>quantities-greater-than?</h3><h4 class="type">macro</h4><div class="usage"><code>(quantities-greater-than? &amp; qs__454__auto__)</code></div><div class="doc"><pre class="plaintext">Macro that expands to check a greater-than quantity inequality if *compile-with-unit-checks* is true
and expands to a simple greater-than check otherwise.</pre></div></div><div class="public anchor" id="var-quantities-greater-than.3F*"><h3>quantities-greater-than?*</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Tests if an arbitrary number of quantities are greater than each other.
</pre></div></div><div class="public anchor" id="var-quantities-less-than.3F"><h3>quantities-less-than?</h3><h4 class="type">macro</h4><div class="usage"><code>(quantities-less-than? &amp; qs__454__auto__)</code></div><div class="doc"><pre class="plaintext">Macro that expands to check a less-than quantity inequality if *compile-with-unit-checks* is true
and expands to a simple less-than check otherwise.</pre></div></div><div class="public anchor" id="var-quantities-less-than.3F*"><h3>quantities-less-than?*</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Tests if an arbitrary number of quantities are less than each other.
</pre></div></div><div class="public anchor" id="var-quantities-multiply"><h3>quantities-multiply</h3><h4 class="type">macro</h4><div class="usage"><code>(quantities-multiply &amp; qs__454__auto__)</code></div><div class="doc"><pre class="plaintext">Macro that expands to multiply quantities if the global flag *compile-with-unit-checks* is true and expands to simple multiplication otherwise.
</pre></div></div><div class="public anchor" id="var-quantities-multiply*"><h3>quantities-multiply*</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Function that multiplies an arbitrary number of quantities.
</pre></div></div><div class="public anchor" id="var-quantities-subtract"><h3>quantities-subtract</h3><h4 class="type">macro</h4><div class="usage"><code>(quantities-subtract &amp; qs__454__auto__)</code></div><div class="doc"><pre class="plaintext">Macro that expands to subtract quantities if the global flag *compile-with-unit-checks* is true and expands to simple subtraction otherwise.
</pre></div></div><div class="public anchor" id="var-quantities-subtract*"><h3>quantities-subtract*</h3><div class="usage"></div><div class="doc"><pre class="plaintext">Function that subtracts an arbitrary number of quantities.
It must be provided at least 1 argument.</pre></div></div><div class="public anchor" id="var-quantity-.3Estr"><h3>quantity-&gt;str</h3><div class="usage"><code>(quantity-&gt;str quantity)</code></div><div class="doc"><pre class="plaintext">Returns a string representing a quantity with units.  Note that the standard str function just returns
the magnitude as a string, while this function includes units.  This follows because the library associates
units with a number, but the underlying object instance of the number is unchanged.</pre></div></div><div class="public anchor" id="var-quantity-.3Eunits"><h3>quantity-&gt;units</h3><div class="usage"><code>(quantity-&gt;units x)</code></div><div class="doc"><pre class="plaintext">Given a quantity, returns its units map.
</pre></div></div><div class="public anchor" id="var-quantity.3F"><h3>quantity?</h3><div class="usage"><code>(quantity? x)</code></div><div class="doc"><pre class="plaintext">Returns true if its argument corresponds to a quantity and false otherwise.
</pre></div></div><div class="public anchor" id="var-units-equal.3F"><h3>units-equal?</h3><div class="usage"><code>(units-equal? &amp; quantities)</code></div><div class="doc"><pre class="plaintext">Tests if an arbitrary number of quantities have the same units.
</pre></div></div><div class="public anchor" id="var-without-unit-checks"><h3>without-unit-checks</h3><div class="usage"><code>(without-unit-checks f)</code></div><div class="doc"><pre class="plaintext">Fixture that executes a zero-arity function with unit checking disabled.
Note that quantity creation is also disabled, so any quantities created in this scope
should not be used in unit-checked operations outside it.</pre></div></div></div></body></html>